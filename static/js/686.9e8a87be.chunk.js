"use strict";(self.webpackChunkprojects=self.webpackChunkprojects||[]).push([[686],{7686:function(e,t,a){a.r(t),a.d(t,{default:function(){return G}});var r=a(3433),n=a(5861),i=a(9439),s=a(4687),o=a.n(s),c=a(2791),l="ImageGallery_imageGallery__3BGUE",u="ImageGallery_imageGalleryContainer__72fMj",d="ImageGalleryItem_imageGalleryItem__FqWbn",m="ImageGalleryItem_imageGalleryItemImage__n-TiQ",_=a(184);function h(e){var t=e.images,a=e.status,r=e.onImageClick;if("resolved"===a)return t.map((function(e){var t=e.webformatURL,a=e.tags,n=e.largeImageURL;return(0,_.jsx)("li",{className:d,children:(0,_.jsx)("img",{className:m,src:t,alt:a,onClick:function(){return r(n)}})},n)}))}var g="Button_loadButton__SqzvS",p=function(e){var t=e.pageChanger;return(0,_.jsx)("button",{type:"button",className:g,onClick:t,children:"Load more"})};function f(e){var t=e.images,a=e.pageChanger,r=e.status,n=e.onImageClick,i=e.isButtonVisible;return(0,_.jsx)(_.Fragment,{children:t.length>0&&(0,_.jsxs)("div",{className:u,children:[(0,_.jsx)("ul",{className:l,children:(0,_.jsx)(h,{images:t,status:r,onImageClick:n})}),i&&"pending"!==r&&(0,_.jsx)(p,{pageChanger:a})]})})}var v="Searchbar_searchbar__Lddkt",x="Searchbar_searchForm__vNPfm",j="Searchbar_searchFormButton__8NlhB",b="Searchbar_searchFormInput__PyMwi",y=a(1686),N=a.n(y),I=a(828);function k(e){var t=e.handleFormSubmit,a=(0,c.useState)(""),r=(0,i.Z)(a,2),n=r[0],s=r[1];return(0,_.jsx)("div",{className:v,children:(0,_.jsxs)("form",{className:x,onSubmit:function(e){e.preventDefault();var a=n.trim().toLowerCase();""!==a?t(a):N().Notify.info("Please enter something")},children:[(0,_.jsx)("button",{type:"submit",className:j,children:(0,_.jsx)(I.Yfv,{style:{width:"20px",height:"20px"}})}),(0,_.jsx)("input",{className:b,value:n,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.currentTarget.value;s(t)}})]})})}var S=a(4164),Z="Modal_overlay__+0iwK",C="Modal_modal__IE6T0",w="Modal_modal__picture__f6LCq",F=document.querySelector("#modal-root");function M(e){var t=e.closeModal,a=e.largeImageURL,r=function(e){"Escape"===e.code&&t()};return(0,c.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}})),(0,S.createPortal)((0,_.jsx)("div",{className:Z,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,_.jsx)("div",{className:C,children:(0,_.jsx)("img",{className:w,src:a,alt:"full version"})})}),F)}var L=a(5067),E=a(3070),G=function(){var e=(0,c.useState)(""),t=(0,i.Z)(e,2),a=t[0],s=t[1],l=(0,c.useState)(1),u=(0,i.Z)(l,2),d=u[0],m=u[1],h=(0,c.useState)(12),g=(0,i.Z)(h,2),p=g[0],v=g[1],x=(0,c.useState)([]),j=(0,i.Z)(x,2),b=j[0],y=j[1],I=(0,c.useState)("idle"),S=(0,i.Z)(I,2),Z=S[0],C=S[1],w=(0,c.useState)(""),F=(0,i.Z)(w,2),G=F[0],P=F[1],T=(0,c.useState)(!1),B=(0,i.Z)(T,2),R=B[0],q=B[1],z=(0,c.useState)(!1),U=(0,i.Z)(z,2),W=U[0],H=U[1],Q=function(){var e=(0,n.Z)(o().mark((function e(){var t,n,i,s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://pixabay.com/api","36858767-c9bdee91508ce121a2eb6b95d",e.next=5,fetch("".concat("https://pixabay.com/api","/?q=").concat(a,"&page=").concat(d,"&key=").concat("36858767-c9bdee91508ce121a2eb6b95d","&image_type=photo&orientation=horizontal&per_page=12"));case 5:if((t=e.sent).ok){e.next=8;break}return e.abrupt("return",new Error("Something went wrong"));case 8:return e.next=10,t.json();case 10:if(n=e.sent,i=n.hits,s=n.total,c=n.totalHits,y([].concat((0,r.Z)(b),(0,r.Z)(i))),v(p+i.length),C("resolved"),0!==s){e.next=18;break}return N().Notify.info("Sorry, there is no image found"),e.abrupt("return",C("rejected"));case 18:if(c>p&&H(!0),!(c<p)){e.next=22;break}return H(!1),e.abrupt("return",N().Notify.info("Wow, look's like these are are all images"));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0),H(!1);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){if(""===a)return H(!1),void C("idle");C("pending"),Q()}),[a,d]);var V=function(){q(!R)};return(0,_.jsxs)("div",{style:{width:"100%",height:"100vh",paddingTop:40},children:[(0,_.jsx)("h2",{className:E.Z.title,children:"Image Finder"}),(0,_.jsx)("h3",{className:E.Z.description_title,children:"Project details:"}),(0,_.jsxs)("p",{className:E.Z.description__name,children:[(0,_.jsx)("strong",{children:"What is it? "}),"Web application for choosing a photo like pinterest."]}),(0,_.jsxs)("ul",{className:E.Z.description__list,children:[(0,_.jsx)("li",{className:E.Z.description__item,children:"REST API"}),(0,_.jsx)("li",{className:E.Z.description__item,children:"Pagination"}),(0,_.jsx)("li",{className:E.Z.description__item,children:"React"}),(0,_.jsx)("li",{className:E.Z.description__item,children:"Responsive design"})]}),(0,_.jsx)(k,{handleFormSubmit:function(e){if(e===a)return N().Notify.info("You have already searched this :) Please enter something else");s(e),m(1),y([]),v(12)}}),"pending"===Z&&(0,_.jsx)(L.Z,{}),"rejected"===Z&&(0,_.jsx)("div",{className:E.Z.errorContainer,children:(0,_.jsx)("h1",{className:E.Z.errorMessage,children:"Sorry, there are no images matching your search :("})}),(0,_.jsx)(f,{images:b,pageChanger:function(){m(d+1)},status:Z,onImageClick:function(e){P(e),V()},isButtonVisible:W,pictureCount:p}),R&&(0,_.jsx)(M,{closeModal:V,largeImageURL:G})]})}},3070:function(e,t){t.Z={errorContainer:"ImageFinder_errorContainer__DmQz1",errorMessage:"ImageFinder_errorMessage__iiSzv",title:"ImageFinder_title__8MZKV",description_title:"ImageFinder_description_title__TH13g",description__name:"ImageFinder_description__name__QPqtb",description__list:"ImageFinder_description__list__8ks1H",description__item:"ImageFinder_description__item__3YoTz"}}}]);
//# sourceMappingURL=686.9e8a87be.chunk.js.map