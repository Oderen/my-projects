"use strict";(self.webpackChunkprojects=self.webpackChunkprojects||[]).push([[448],{6448:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r=t(1413),a=t(9439),i=t(2791),s=t(3044),o=t(8551),l=t(7870),c=t(4554),u=t(403),d=t(890),m=t(533),h=t(5067),p=t(9434),f=t(9793),_="SignUpForm_signUpButton__YU+Rt",x="SignUpForm_signUpLink__MtoqH",v=t(5861),g=t(4687),j=t.n(g),y=t(4164),b="Verification-modal_overlay__omRO3",w="Verification-modal_modal__gO4-E",Z="Verification-modal_modal__text__e3z7P",k="Verification-modal_verification__8UCmp",V="Verification-modal_verification__button__g9tcm",N="Verification-modal_verification__text__wgCWF",S="Verification-modal_resendEmail__E+Ivd",E="Verification-modal_resendEmail__text__4jXno",C="Verification-modal_resendEmail__button__MVfni",I="Verification-modal_resendEmail__icon__hXvq8",P="Verification-modal_resendError__3POwz",U="Verification-modal_text__9N64U",T=t(7425),q=t(7689),L=t(1243),M=t(184),R=document.querySelector("#modal-root"),D=function(){var e=(0,p.I0)(),n=(0,i.useState)(!1),t=(0,a.Z)(n,2),r=t[0],s=t[1],o=(0,q.s0)(),l=(0,p.v9)((function(e){return e.auth.user.email})),c=(0,p.v9)((function(e){return e.auth.isAuthProblem.isEmailSent})),u=(0,p.v9)((function(e){return e.auth.isInnerLoader})),d=function(){var e=(0,v.Z)(j().mark((function e(){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={email:l},e.next=4,L.Z.post("https://phonebook-6iw6.onrender.com/api/users/verification/check",n);case 4:if(200===e.sent.status){e.next=7;break}throw new Error;case 7:return o("/login"),e.abrupt("return",!0);case 11:throw e.prev=11,e.t0=e.catch(0),s(!0),console.log("Error: ",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var n=(0,v.Z)(j().mark((function n(){return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e((0,f.WC)(l));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,y.createPortal)((0,M.jsx)("div",{className:b,children:(0,M.jsxs)("div",{className:w,children:[(0,M.jsx)("h2",{className:Z,children:"Verify your email"}),(0,M.jsxs)("div",{className:k,children:[(0,M.jsx)("button",{className:V,onClick:d,children:"I have verified my email"}),r&&(0,M.jsx)("p",{className:N,children:"You are not verified"})]}),(0,M.jsxs)("div",{className:S,children:[u?(0,M.jsx)(h.Z,{width:50,height:50,marginTop:0}):(0,M.jsxs)("p",{className:E,children:["Do not see the email?"," ",c?"Resend":(0,M.jsx)("span",{className:U,children:"Try again"})," ","--\x3e"]}),(0,M.jsx)("button",{className:C,onClick:m,children:(0,M.jsx)(T.qZi,{className:"".concat(I," ").concat(c?"":P)})})]})]})}),R)};function F(){var e=(0,p.I0)(),n=(0,p.v9)((function(e){return e.auth.isAuthProblem.isRegProblem})),t=(0,p.v9)((function(e){return e.auth.isAuthModalOpen})),v=(0,i.useState)(!1),g=(0,a.Z)(v,2),j=g[0],y=g[1],b={backgroundColor:j?"#2072af":"#003262",transition:"background-color 0.2s ease"},w=(0,i.useState)(!1),Z=(0,a.Z)(w,2),k=Z[0],V=Z[1],N=(0,i.useState)(!1),S=(0,a.Z)(N,2),E=S[0],C=S[1];return(0,p.v9)((function(e){return e.auth.isRefreshing}))?(0,M.jsx)(h.Z,{text:"It may take a while"}):(0,M.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",paddingLeft:10,paddingRight:10},children:[t&&(0,M.jsx)(D,{}),(0,M.jsxs)(c.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,M.jsx)(s.Z,{sx:{m:1,bgcolor:"#003262"},children:(0,M.jsx)(u.Z,{})}),(0,M.jsx)(d.Z,{component:"h1",variant:"h5",children:"Sign Up"}),(0,M.jsxs)(c.Z,{component:"form",onSubmit:function(n){n.preventDefault();var t=new FormData(n.currentTarget),r=t.get("email"),a=t.get("password");if(""===r)return V(!0);if(V(!1),a.length<=5)return C(!0);C(!1);var i={name:r.split("@")[0],email:r,password:a};e((0,f.a$)(i))},noValidate:!0,sx:{mt:1},children:[(0,M.jsx)(l.Z,{id:"email",name:"email",type:"email",label:"Email Address",placeholder:"example.something@gmail.com",autoComplete:"email",margin:"normal",required:!0,fullWidth:!0,autoFocus:!0,error:!(!k&&!n),helperText:k&&(0,M.jsx)("span",{children:"Invalid email. Please try again "})}),(0,M.jsx)(l.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",error:!!E,inputProps:{pattern:/^\S+@\S+\.\S+$/},helperText:"Must be at least 6 characters long",autoComplete:"current-password"}),n&&(0,M.jsx)("div",{style:{marginTop:10},children:(0,M.jsx)("p",{style:{margin:0,color:"red"},children:"This email is already registered"})}),(0,M.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,mb:2},style:(0,r.Z)({},b),className:_,onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},children:"Sign Up"})]}),(0,M.jsx)(m.Z,{href:"http://localhost:3000/projects/login",variant:"body2",style:{textDecoration:"none"},children:(0,M.jsxs)("p",{className:x,children:[(0,M.jsx)("span",{children:"Have already an account?"}),(0,M.jsx)("span",{style:{marginLeft:5},children:"Login"})]})})]})]})}var W=function(){return(0,M.jsx)(F,{})}}}]);
//# sourceMappingURL=448.b1c065f3.chunk.js.map