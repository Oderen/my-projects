"use strict";(self.webpackChunkProjects=self.webpackChunkProjects||[]).push([[221],{8221:function(e,a,t){t.r(a),t.d(a,{default:function(){return B}});var r=t(3433),n=t(5861),s=t(9439),o=t(4687),i=t.n(o),c=t(2791),l="ImageGallery_imageGallery__3BGUE",u="ImageGallery_imageGalleryContainer__72fMj",m="ImageGalleryItem_imageGalleryItem__FqWbn",d="ImageGalleryItem_imageGalleryItemImage__n-TiQ",g=t(184);function h(e){var a=e.images,t=e.status,r=e.onImageClick;if("resolved"===t)return a.map((function(e){var a=e.webformatURL,t=e.tags,n=e.largeImageURL;return(0,g.jsx)("li",{className:m,children:(0,g.jsx)("img",{className:d,src:a,alt:t,onClick:function(){return r(n)}})},n)}))}var f="Button_loadButton__SqzvS",p=function(e){var a=e.pageChanger;return(0,g.jsx)("button",{type:"button",className:f,onClick:a,children:"Load more"})};function _(e){var a=e.images,t=e.pageChanger,r=e.status,n=e.onImageClick,s=e.isButtonVisible;return(0,g.jsx)(g.Fragment,{children:a.length>0&&(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("ul",{className:l,children:(0,g.jsx)(h,{images:a,status:r,onImageClick:n})}),s&&"pending"!==r&&(0,g.jsx)(p,{pageChanger:t})]})})}var v="Searchbar_searchbar__Lddkt",x="Searchbar_searchForm__vNPfm",b="Searchbar_searchFormButton__8NlhB",y="Searchbar_searchFormInput__PyMwi",j=t(1686),S=t.n(j),k=t(828);function C(e){var a=e.handleFormSubmit,t=(0,c.useState)(""),r=(0,s.Z)(t,2),n=r[0],o=r[1];return(0,g.jsx)("div",{className:v,children:(0,g.jsxs)("form",{className:x,onSubmit:function(e){e.preventDefault();var t=n.trim().toLowerCase();""!==t?a(t):S().Notify.info("Please enter something")},children:[(0,g.jsx)("button",{type:"submit",className:b,children:(0,g.jsx)(k.Yfv,{style:{width:"20px",height:"20px"}})}),(0,g.jsx)("input",{className:y,value:n,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var a=e.currentTarget.value;o(a)}})]})})}var I=t(4164),N="Modal_overlay__+0iwK",w="Modal_modal__IE6T0",Z="Modal_modal__picture__f6LCq",F=document.querySelector("#modal-root");function L(e){var a=e.closeModal,t=e.largeImageURL,r=function(e){"Escape"===e.code&&a()};return(0,c.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}})),(0,I.createPortal)((0,g.jsx)("div",{className:N,onClick:function(e){e.currentTarget===e.target&&a()},children:(0,g.jsx)("div",{className:w,children:(0,g.jsx)("img",{className:Z,src:t,alt:"full version"})})}),F)}var G=t(5067),E="ImageFinder_errorContainer__DmQz1",M="ImageFinder_errorMessage__iiSzv",B=function(){var e=(0,c.useState)(""),a=(0,s.Z)(e,2),t=a[0],o=a[1],l=(0,c.useState)(1),u=(0,s.Z)(l,2),m=u[0],d=u[1],h=(0,c.useState)(12),f=(0,s.Z)(h,2),p=f[0],v=f[1],x=(0,c.useState)([]),b=(0,s.Z)(x,2),y=b[0],j=b[1],k=(0,c.useState)("idle"),I=(0,s.Z)(k,2),N=I[0],w=I[1],Z=(0,c.useState)(""),F=(0,s.Z)(Z,2),B=F[0],P=F[1],q=(0,c.useState)(!1),U=(0,s.Z)(q,2),z=U[0],R=U[1],T=(0,c.useState)(!1),D=(0,s.Z)(T,2),Q=D[0],V=D[1],W=function(){var e=(0,n.Z)(i().mark((function e(){var a,n,s,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://pixabay.com/api","36858767-c9bdee91508ce121a2eb6b95d",e.next=5,fetch("".concat("https://pixabay.com/api","/?q=").concat(t,"&page=").concat(m,"&key=").concat("36858767-c9bdee91508ce121a2eb6b95d","&image_type=photo&orientation=horizontal&per_page=12"));case 5:if((a=e.sent).ok){e.next=8;break}return e.abrupt("return",new Error("Something went wrong"));case 8:return e.next=10,a.json();case 10:if(n=e.sent,s=n.hits,o=n.total,c=n.totalHits,j([].concat((0,r.Z)(y),(0,r.Z)(s))),v(p+s.length),w("resolved"),0!==o){e.next=18;break}return S().Notify.info("Sorry, there is no image found"),e.abrupt("return",w("rejected"));case 18:if(c>p&&V(!0),!(c<p)){e.next=22;break}return V(!1),e.abrupt("return",S().Notify.info("Wow, look's like these are are all images"));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0),V(!1);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){if(""===t)return V(!1),void w("idle");w("pending"),W()}),[t,m]);var Y=function(){R(!z)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C,{handleFormSubmit:function(e){if(e===t)return S().Notify.info("You have already searched this :) Please enter something else");o(e),d(1),j([]),v(12)}}),"pending"===N&&(0,g.jsx)(G.Z,{}),"rejected"===N&&(0,g.jsx)("div",{className:E,children:(0,g.jsx)("h1",{className:M,children:"Sorry, there are no images matching your search :("})}),(0,g.jsx)(_,{images:y,pageChanger:function(){d(m+1)},status:N,onImageClick:function(e){P(e),Y()},isButtonVisible:Q,pictureCount:p}),z&&(0,g.jsx)(L,{closeModal:Y,largeImageURL:B})]})}}}]);
//# sourceMappingURL=221.bcf76045.chunk.js.map